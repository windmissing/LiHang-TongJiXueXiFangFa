**证明：经过有限次迭代，可以得到一个将训练数据集完全正确划分的分离超平面及感知机模型** 

# 假设前提：  
1. 所有训练数据点都线性可分的  
2. 初值$$(w_0, b_0) = \vec{0}$$


# 证明前的一些定义  

（1）令  
$$
\hat w = (w^T, b)^T \ \ \ \ \ 向量一般默认为列向量 \\
\hat x = (x, 1)
则  
$$
$$
\hat w \cdot \hat x = w \cdot x + b
$$
（2）  
所有训练数据点都线性可分  
$$\Rightarrow  \exists$$一个超平面，使得所有训练数据集都被正确划分  
令这个超平面为  
$$
\hat w_{opt} \cdot \hat x = 0  且 ||\hat w_{opt}|| = 1
$$
（3）令  
$$
\gamma = min_i\{y_i(\hat w_{opt} \cdot \hat x_i)\}  \tag {1}
$$
（4）令$$\hat w_k$$为更新了k次之后的$$\hat w$$  
# 证明过程

超平面$$\hat w_{opt} \cdot \hat x = 0$$将所有数据都完全正确的分开  
$$\Rightarrow  \forall (\hat x_i, y_i)$$，有$$y_i$$与$$\hat w_{opt} \cdot \hat x_i$$符号相同，且两者都不为0  
$$\Rightarrow  \forall (\hat x_i, y_i)$$，有$$y_i(\hat w_{opt} \cdot \hat x_i)>0$$  
以上结论结合公式（1）得：  
$$
y_i(\hat w_{opt} \cdot \hat x_i) \ge \gamma \gt 0  \tag {2}
$$

-----------------------------------------

假设算法已经更新了k次，则：  
$$
\begin{cases}
w_k = w_{k-1} + \eta y_ix_i \\
b_k = b_{k-1} + \eta y_i
\end{cases} \tag {3}
$$
$$
\hat w_k = (w_k, b_k) = (w_{k-1} + \eta y_ix_i, b_{k-1} + \eta y_i) \\
= (w_{k-1}, b_{k-1}) + (\eta y_ix_i, \eta y_i) = \hat w_{k-1} + \eta y_i (x_i, 1)
$$
$$
= \hat w_{k-1} + \eta y_i \hat x_i \tag {4}
$$
得到：  
$$
\hat w_k =  \hat w_{k-1} + \eta y_i \hat x_i \tag {4}
$$
*Note: 由公式（3）推公式（4）本来很简单，之前一直推不出来是因为我把公式（4）$$\eta y_i \hat x_i$$当成了一个数，用numpy里面向量和数值相加的公式来算公式（4）。实际上$$\eta y_i \hat x_i$$也是一个n+1的向量，应该使用向量的加法来计算公式（4）。*

----------------------------------

证明$$\hat w_k \cdot \hat w_{opt} \ge k \eta \gamma$$:  
$$
\hat w_k \cdot \hat w_{opt} = (\hat w_{k-1} + \eta y_i \hat x_i) \cdot \hat w_{opt} \\
= \hat w_{k-1} \cdot \hat w_{opt} + \eta y_i \hat x_i \cdot \hat w_{opt} \\
\ge \hat w_{k-1} \cdot \hat w_{opt} + \eta \gamma \\
\ge \hat w_{k-2} \cdot \hat w_{opt} + 2\eta \gamma \\
\cdots \\
\ge \hat w_0 \cdot \hat w_{opt} + k\eta \gamma
$$
得到：  
$$
\hat w_k \cdot \hat w_{opt} \ge k \eta \gamma \tag {5}
$$

---

证明$$$$
\exists \gamma > 0$$，使得$$\forall (\hat x_i, y_i)$$，有$$y_i(\hat w_{opt} \cdot \hat x_i) \ge \gamma$$  

$$\Rightarrow  \exists (\hat x_i, y_i)$$，使得$$y_i(\hat w_{k-1} \cdot \hat x_i) < 0$$